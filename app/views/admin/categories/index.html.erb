<div class="container">
  <div class="row">
    <div class="col-md-6">
      <h1 class="category-title">
        <% if @category %>
          分类: <%= @category.title %>
        <% else %>
          分类
        <% end %>
      </h1>
    </div>
    <div class="col-md-6 text-right">
      <%= link_to "新建分类", new_admin_category_path, class: "btn btn-primary" %>
    </div>
  </div>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>创建时间</th>
      <th>名称</th>
      <th>Weight</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <% @categories.each do |category| %>
      <tr>
        <td><%= category.created_at.strftime("%Y-%m-%d") %></td>
        <td><%= category.title %></td>
        <td><%= category.weight %></td>
        <td >

          <%= link_to "编辑", edit_admin_category_path(category), class: "btn btn btn-primary" %>
          <%= link_to "删除", admin_category_path(category), method: :delete, 'data-confirm': "确认删除吗?", class: "btn btn btn-danger" %>
          <% if category.root? %>
            <%= link_to "查看子分类", admin_categories_path(id: category), class: "btn btn-sm btn-info" %>
          <% end -%>
        </td>
      </tr>
    <% end -%>
    </tbody>
  </table>

  <div class="text-center">
    <%= will_paginate @categories, outer_window: 1, inner_window: 2, previous_label: '上一页', next_label: '下一页' %>
  </div>
</div>

<style>
    .container {
        margin-top: 20px;
    }

    .row {
        margin-bottom: 20px;
    }

    .category-title {
        margin-top: 0;
        font-size: 24px;
    }

    .text-right {
        text-align: right;
    }

    .table {
        width: 100%;
        border-collapse: collapse;
    }

    th,
    td {
        padding: 8px;
        border: 1px solid #ccc;
    }

    th {
        background-color: #f0f0f0;
        font-weight: bold;
        text-align: left;
    }

    tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    .btn {
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: bold;
        text-decoration: none;
    }

    .btn-primary {
        color: #fff;
        background-color: #007bff;
        border: none;
    }

    .btn-danger {
        color: #fff;
        background-color: #dc3545;
        border: none;
    }

    .btn-info {
        color: #fff;
        background-color: #17a2b8;
        border: none;
    }

    .btn-primary:hover,
    .btn-danger:hover,
    .btn-info:hover {
        opacity: 0.8;
    }

    .pagination {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }
</style>

