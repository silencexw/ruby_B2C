<h1>购物车</h1>
<div class="row">
  <td class="container">


    <table class="table">
      <thead>
      <tr>
        <th>数量</th>
        <th>商品名</th>
        <th>价格</th>
        <th>尺寸</th>
        <th>颜色</th>
        <th>图片</th>
        <th>Edit</th>
      </tr>
      </thead>
      <tbody>
      <% @cart_items.each do |cart_item| %>

        <tr>
          <td>
            <a href="<%= product_path(id: cart_item.get_product.id) %>">
              <% if cart_item.product_item.image.nil? %>
                <%= image_tag "no_product.jpg", style: "width: 200px; height: 200px", alt: cart_item.get_product.title %>
              <% else %>
                <%= image_tag cart_item.product_item.image, style: "width: 50px; height: 50px; display: block", class: "product-item-image", alt: cart_item.get_product.title %>
            <% end %>
            </a>
          </td>

          <!--          <td class="media-body">-->
          <td class="media-heading"><%= link_to cart_item.get_product.title, product_path(cart_item.get_product.id) %></td>

          <td>
          <%= cart_item.amount %></td>
          <td>
          ¥<%= cart_item.amount * cart_item.product_item.msrp %></td>
          <td>
            <% unless cart_item.product_item.size_id.nil? %>
              <%= size_name(cart_item.product_item.size_id) %>
            <% end %>
          </td>
          <td>
            <% unless cart_item.product_item.color_id.nil? %>

              <span class="color-box" style="background-color: <%= raw get_color(cart_item.product_item.color_id) %>;"></span>
            <% end %>
          </td>
          <!--          </td>-->

          <td class="media-right">
            <%= form_tag cart_item_path(cart_item), method: :put do %>
              <p><label>
                <input type="text" name="amount" value="<%= cart_item.amount %>"/>
              </label></p>
              <p>
                <%= submit_tag "更新", class: "btn btn-success btn-xs" %>
                <%= link_to "删除", cart_item_path(cart_item), method: :delete, 'data-confirm': "不考虑一下了?", class: "btn btn-danger btn-xs" %>
              </p>
            <% end %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
</div>

<div class="pull-right">
  <strong>总价: ¥<%= @cart_items.sum { |cart| cart.amount * cart.product_item.msrp } %></strong>
  &nbsp;
  <%= link_to "去结算", new_transaction_order_path, class: "btn btn-danger btn-lg" %>
</div>

<div class="clearfix"></div>
</div>
<style>
    body {
        font-family: 'Source Han Serif CN', sans-serif; /* Change 'Arial' to your preferred font-family */
        font-size: 12px;
    }

    /* Paste the CSS styles here */
    .container {
        width: 1200px;
    }

    h1 {
        color: #333;
    }

    .pull-right {
        margin-bottom: 10px;
    }

    .btn-lg {
        padding: 15px 20px;
        font-size: 18px;
    }

    /*.table {*/
    /*    width: 100%;*/
    /*    margin-bottom: 20px;*/
    /*    border-collapse: separate;*/
    /*    border-spacing: 0;*/
    /*    background-color: #fff;*/
    /*    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);*/
    /*}*/


    /*th, td {*/
    /*    width: auto;*/
    /*    padding: 1px;*/
    /*    text-align: left;*/
    /*    border-bottom: 1px solid #ddd;*/
    /*}*/

    th {
        background-color: rgba(246, 117, 72, 0.39);
        color: #fff;
    }

    .sub_th {
        background-color: rgba(0, 57, 122, 0.39);
        color: #fff;
    }

    tbody tr:hover {
        background-color: #f5f5f5;
    }

    .item-image-container {
        width: 50px; /* Adjust image container width */
        height: 50px; /* Adjust image container height */
        overflow: hidden;
    }

    .color-box {
        position: relative;
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 30%;
        margin-right: 10px;
        cursor: pointer;
    }

    .product-item-image {
        width: 100%;
        height: auto;
        border-radius: 5px;
    }

    .btn-primary {
        background-color: #48aee5;
        color: #fff;
        border: 1px solid #007bff;
        padding: 8px 15px;
        text-decoration: none;
        display: inline-block;
        border-radius: 10px;
        transition: background-color 0.3s;
    }

    .btn-primary:hover {
        background-color: #0056b3;
    }

    .table {
        width: 100%;
        margin-bottom: 20px;
        border-collapse: separate;
        border-spacing: 0;
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        white-space: nowrap; /* Prevent line breaks */
    }

    th, td {
        width: auto;
        padding: 10px; /* Adjust padding as needed */
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    .item-image-container {
        width: 50px; /* Adjust image container width */
        height: 50px; /* Adjust image container height */
        overflow: hidden;
    }

    .product-item-image {
        width: 100%;
        height: auto;
        border-radius: 5px;
    }
</style>